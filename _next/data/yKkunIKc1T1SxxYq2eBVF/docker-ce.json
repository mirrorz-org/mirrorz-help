{"pageProps":{"toc":[{"url":"#","text":"Overview","depth":2},{"url":"#自动安装","depth":3,"text":"自动安装"},{"url":"#debianubunturaspbian-用户","depth":3,"text":"Debian/Ubuntu/Raspbian 用户"},{"url":"#fedora","depth":3,"text":"Fedora"},{"url":"#centosrhel","depth":3,"text":"CentOS/RHEL"},{"url":"#openmediavault","depth":2,"text":"OpenMediaVault"}],"content":"[\"$r\",null,null,{\"children\":[[\"$r\",\"p\",null,{\"children\":[\"$r\",\"strong\",null,{\"children\":\"注意：本镜像只提供 Debian/Ubuntu/Fedora/CentOS/RHEL 的 docker 软件包，非 dockerhub\"}]}],\"\\n\",[\"$r\",\"h3\",null,{\"id\":\"自动安装\",\"children\":\"自动安装\"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":\"Docker 提供了一个自动配置与安装的脚本，支持 Debian、RHEL、SUSE 系列及衍生系统的安装。请注意，Docker 官方不建议在生产环境使用此脚本安装 Docker CE。\"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":\"以下内容假定\"}],\"\\n\",[\"$r\",\"ul\",null,{\"children\":[\"\\n\",[\"$r\",\"li\",null,{\"children\":\"您为 root 用户，或有 sudo 权限，或知道 root 密码；\"}],\"\\n\",[\"$r\",\"li\",null,{\"children\":\"您系统上有 curl 或 wget\"}],\"\\n\"]}],\"\\n\",[\"$r\",\"CodeBlock\",null,{\"code\":\"export DOWNLOAD_URL=\\\"{{http_protocol}}{{mirror}}\\\"\\n# 如您使用 curl\\ncurl -fsSL https://raw.githubusercontent.com/docker/docker-install/master/install.sh | {{sudoE}}sh\\n# 如您使用 wget\\nwget -O- https://raw.githubusercontent.com/docker/docker-install/master/install.sh | {{sudoE}}sh\",\"codeLanguage\":\"bash\"}],\"\\n\",[\"$r\",\"h3\",null,{\"id\":\"debianubunturaspbian-用户\",\"children\":\"Debian/Ubuntu/Raspbian 用户\"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"以下内容根据 \",[\"$r\",\"a\",null,{\"href\":\"https://docs.docker.com/engine/install/debian/\",\"rel\":\"nofollow\",\"children\":\"官方文档\"}],\" 修改而来。\"]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":\"如果你过去安装过 docker，先删掉：\"}],\"\\n\",[\"$r\",\"CodeBlock\",null,{\"code\":\"for pkg in docker.io docker-doc docker-compose podman-docker containerd runc; do {{sudo}}apt-get remove $pkg; done\",\"codeLanguage\":\"bash\"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":\"首先安装依赖：\"}],\"\\n\",[\"$r\",\"CodeBlock\",null,{\"code\":\"{{sudo}}apt-get update\\n{{sudo}}apt-get install ca-certificates curl gnupg\",\"codeLanguage\":\"bash\"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":\"信任 Docker 的 GPG 公钥并添加仓库：\"}],\"\\n\",[\"$r\",\"CodeBlock\",null,{\"menus\":[{\"title\":\"发行版\",\"items\":[[\"Debian\",{\"deb_release\":\"debian\"}],[\"Ubuntu\",{\"deb_release\":\"ubuntu\"}],[\"Raspbian\",{\"deb_release\":\"raspbian\"}]]}],\"code\":\"{{sudo}}install -m 0755 -d /etc/apt/keyrings\\ncurl -fsSL https://download.docker.com/linux/{{deb_release}}/gpg | {{sudo}}gpg --dearmor -o /etc/apt/keyrings/docker.gpg\\nsudo chmod a+r /etc/apt/keyrings/docker.gpg\\necho \\\\\\n  \\\"deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] {{http_protocol}}{{mirror}}/linux/{{deb_release}} \\\\\\n  \\\"$(. /etc/os-release && echo \\\"$VERSION_CODENAME\\\")\\\" stable\\\" | \\\\\\n  {{sudo}}tee /etc/apt/sources.list.d/docker.list > /dev/null\",\"codeLanguage\":\"bash\"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":\"最后安装\"}],\"\\n\",[\"$r\",\"CodeBlock\",null,{\"code\":\"{{sudo}}apt-get update\\n{{sudo}}apt-get install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin\",\"codeLanguage\":\"bash\"}],\"\\n\",[\"$r\",\"h3\",null,{\"id\":\"fedora\",\"children\":\"Fedora\"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"以下内容根据 \",[\"$r\",\"a\",null,{\"href\":\"https://docs.docker.com/engine/install/fedora/\",\"rel\":\"nofollow\",\"children\":\"官方文档\"}],\" 修改而来。\"]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":\"如果你之前安装过 docker，请先删掉\"}],\"\\n\",[\"$r\",\"CodeBlock\",null,{\"code\":\"{{sudo}}dnf remove docker \\\\\\n                  docker-client \\\\\\n                  docker-client-latest \\\\\\n                  docker-common \\\\\\n                  docker-latest \\\\\\n                  docker-latest-logrotate \\\\\\n                  docker-logrotate \\\\\\n                  docker-selinux \\\\\\n                  docker-engine-selinux \\\\\\n                  docker-engine\",\"codeLanguage\":\"bash\"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":\"安装依赖，下载 repo 文件，并把软件仓库地址替换为镜像站：\"}],\"\\n\",[\"$r\",\"CodeBlock\",null,{\"code\":\"{{sudo}}dnf -y install dnf-plugins-core\\n{{sudo}}dnf-3 config-manager --add-repo https://download.docker.com/linux/fedora/docker-ce.repo\\n{{sudo}}sed -i 's+https://download.docker.com+{{http_protocol}}{{mirror}}+' /etc/yum.repos.d/docker-ce.repo\",\"codeLanguage\":\"bash\"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":\"最后安装：\"}],\"\\n\",[\"$r\",\"CodeBlock\",null,{\"code\":\"{{sudo}}dnf install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin\",\"codeLanguage\":\"bash\"}],\"\\n\",[\"$r\",\"h3\",null,{\"id\":\"centosrhel\",\"children\":\"CentOS/RHEL\"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"以下内容根据 \",[\"$r\",\"a\",null,{\"href\":\"https://docs.docker.com/engine/install/centos/\",\"rel\":\"nofollow\",\"children\":\"官方文档\"}],\" 修改而来。\"]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":\"如果你之前安装过 docker，请先删掉\"}],\"\\n\",[\"$r\",\"CodeBlock\",null,{\"code\":\"{{sudo}}yum remove docker \\\\\\n                  docker-client \\\\\\n                  docker-client-latest \\\\\\n                  docker-common \\\\\\n                  docker-latest \\\\\\n                  docker-latest-logrotate \\\\\\n                  docker-logrotate \\\\\\n                  docker-engine\",\"codeLanguage\":\"bash\"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":\"安装依赖，下载 repo 文件，并把软件仓库地址替换为镜像站：\"}],\"\\n\",[\"$r\",\"CodeBlock\",null,{\"menus\":[{\"title\":\"发行版\",\"items\":[[\"CentOS\",{\"yum_release\":\"centos\"}],[\"RHEL\",{\"yum_release\":\"rhel\"}]]}],\"code\":\"{{sudo}} yum install -y yum-utils\\nyum-config-manager --add-repo https://download.docker.com/linux/{{yum_release}}/docker-ce.repo\\n{{sudo}}sed -i 's+https://download.docker.com+{{http_protocol}}{{mirror}}+' /etc/yum.repos.d/docker-ce.repo\",\"codeLanguage\":\"bash\"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":\"最后安装：\"}],\"\\n\",[\"$r\",\"CodeBlock\",null,{\"code\":\"{{sudo}}yum install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin\",\"codeLanguage\":\"bash\"}],\"\\n\",[\"$r\",\"h2\",null,{\"id\":\"openmediavault\",\"children\":\"OpenMediaVault\"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"本节供 \",[\"$r\",\"a\",null,{\"href\":\"/OpenMediaVault/\",\"children\":\"OpenMediaVault 帮助\"}],\"使用。\"]}],\"\\n\",[\"$r\",\"CodeBlock\",null,{\"code\":\"omv-env set OMV_DOCKER_APT_REPOSITORY_URL \\\"{{http_protocol}}{{mirror}}/linux/debian\\\"\",\"codeLanguage\":\"bash\"}]]}]","meta":{"title":"Docker CE 软件仓库镜像使用帮助","cname":"docker-ce"},"cname":"docker-ce"},"__N_SSG":true}
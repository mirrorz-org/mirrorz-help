{"pageProps":{"toc":[{"url":"#","text":"Overview","depth":2},{"url":"#初次使用","depth":3,"text":"初次使用"},{"url":"#已有配置","depth":3,"text":"已有配置"},{"url":"#pkgsrc","depth":2,"text":"pkgsrc"}],"content":"[\"$r\",null,null,{\"children\":[[\"$r\",\"p\",null,{\"children\":[[\"$r\",\"a\",null,{\"href\":\"https://www.cpan.org/\",\"rel\":\"nofollow\",\"children\":\"CPAN\"}],\" (The Comprehensive Perl Archive Network) 镜像源的配置文件为 \",[\"$r\",\"code\",null,{\"children\":\"MyConfig.pm\"}],\"（一般位于 \",[\"$r\",\"code\",null,{\"children\":\"~/.cpan/CPAN/MyConfig.pm\"}],\"），可使用包管理脚本 \",[\"$r\",\"code\",null,{\"children\":\"cpan\"}],\" 进行修改。\"]}],\"\\n\",[\"$r\",\"h3\",null,{\"id\":\"初次使用\",\"children\":\"初次使用\"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"如果 \",[\"$r\",\"code\",null,{\"children\":\"MyConfig.pm\"}],\" 配置文件不存在，在命令行中执行：\"]}],\"\\n\",[\"$r\",\"CodeBlock\",null,{\"code\":\"# 自动生成 MyConfig.pm\\n## 对于 Perl 5.36 （或 CPAN 2.29）及以上，使用如下命令\\nPERL_MM_USE_DEFAULT=1 perl -MCPAN -e 'CPAN::HandleConfig->edit(\\\"pushy_https\\\", 0); CPAN::HandleConfig->edit(\\\"urllist\\\", \\\"unshift\\\", \\\"{{http_protocol}}{{mirror}}/\\\"); mkmyconfig'\\n## 对于较久版本，使用如下命令\\nPERL_MM_USE_DEFAULT=1 perl -MCPAN -e 'CPAN::HandleConfig->edit(\\\"urllist\\\", \\\"unshift\\\", \\\"{{http_protocol}}{{mirror}}/\\\"); mkmyconfig'\\n\\n# 或不使用默认配置，手动确认各个配置选项\\nperl -MCPAN -e 'mkmyconfig'\",\"codeLanguage\":\"bash\"}],\"\\n\",[\"$r\",\"h3\",null,{\"id\":\"已有配置\",\"children\":\"已有配置\"}],\"\\n\",[\"$r\",\"h4\",null,{\"id\":\"在-cpan-shell-中手动设置镜像\",\"children\":\"在 CPAN Shell 中手动设置镜像\"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"在命令行中执行 \",[\"$r\",\"code\",null,{\"children\":\"cpan\"}],\" 进入 cpan shell：\"]}],\"\\n\",[\"$r\",\"CodeBlock\",null,{\"code\":\"cpan shell -- CPAN exploration and modules installation\\nEnter 'h' for help.\\n\\n# 列出当前的镜像设置\\ncpan[1]> o conf urllist\\n\\n# 将本站镜像加入镜像列表首位\\n# 注：若已在列表中则可跳过本步直接退出，修改列表不会执行自动去重\\ncpan[2]> o conf urllist unshift {{http_protocol}}{{mirror}}/\\n\\n# 或将本站镜像加入镜像列表末尾\\n# 注：本命令和上面的命令执行一个即可，修改列表不会执行自动去重\\ncpan[3]> o conf urllist push {{http_protocol}}{{mirror}}/\\n\\n# 或清空镜像列表，仅保留本站\\ncpan[4]> o conf urllist {{http_protocol}}{{mirror}}/\\n\\n# Perl 5.36 及以上用户需要关闭 pushy_https 以使用镜像站\\ncpan[5]> o conf pushy_https 0\\n\\n# 保存修改后的配置至 MyConfig.pm\\ncpan[6]> o conf commit\\n\\n# 退出 cpan shell\\ncpan[7]> quit\",\"codeLanguage\":\"shell\"}],\"\\n\",[\"$r\",\"h4\",null,{\"id\":\"在命令行中使用脚本设置\",\"children\":\"在命令行中使用脚本设置\"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":\"在命令行中执行：\"}],\"\\n\",[\"$r\",\"CodeBlock\",null,{\"code\":\"# 若本站不在镜像列表中则将其加入列表首位\\nif ! (\\n    perl -MCPAN -e 'CPAN::HandleConfig->load();' \\\\\\n        -e 'CPAN::HandleConfig->prettyprint(\\\"urllist\\\")' |\\n    grep -qF '{{http_protocol}}{{mirror}}/'\\n); then\\n    perl -MCPAN -e 'CPAN::HandleConfig->load();' \\\\\\n        -e 'CPAN::HandleConfig->edit(\\\"urllist\\\", \\\"unshift\\\", \\\"{{http_protocol}}{{mirror}}/\\\");' \\\\\\n        -e 'CPAN::HandleConfig->commit()'\\nfi\\n\\n# Perl 5.36 及以上用户还需要关闭 pushy_https\\nperl -MCPAN -e 'CPAN::HandleConfig->load();' \\\\\\n    -e 'CPAN::HandleConfig->edit(\\\"pushy_https\\\", 0);' \\\\\\n    -e 'CPAN::HandleConfig->commit()'\",\"codeLanguage\":\"bash\"}],\"\\n\",[\"$r\",\"h2\",null,{\"id\":\"pkgsrc\",\"children\":\"pkgsrc\"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"本节供 \",[\"$r\",\"a\",null,{\"href\":\"/pkgsrc/\",\"children\":\"pkgsrc 帮助\"}],\"使用\"]}],\"\\n\",[\"$r\",\"CodeBlock\",null,{\"code\":\"MASTER_SITE_PERL_CPAN= {{http_protocol}}{{mirror}}/modules/by-module/\"}]]}]","meta":{"title":"CPAN 镜像使用帮助","cname":"CPAN"},"cname":"CPAN"},"__N_SSG":true}
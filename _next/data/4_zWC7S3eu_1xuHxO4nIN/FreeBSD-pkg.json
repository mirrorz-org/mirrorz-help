{"pageProps":{"toc":[{"url":"#","text":"Overview","depth":2},{"url":"#使用方法","depth":2,"text":"使用方法"},{"url":"#freebsd-pkg","depth":3,"text":"FreeBSD pkg"},{"url":"#ports-collection--poudriere","depth":3,"text":"Ports Collection & Poudriere"}],"content":"[\"$r\",null,null,{\"children\":[[\"$r\",\"p\",null,{\"children\":\"本镜像收录了受 FreeBSD 安全团队维护的版本，包括季度分支 quarterly 和滚动更新的 latest 仓库（注意：并非所有版本和架构都同时拥有 quarterly 或 latest 仓库，如 CURRENT 仅有 latest）。\"}],\"\\n\",[\"$r\",\"h2\",null,{\"id\":\"使用方法\",\"children\":\"使用方法\"}],\"\\n\",[\"$r\",\"h3\",null,{\"id\":\"freebsd-pkg\",\"children\":\"FreeBSD pkg\"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"为了避免可能出现的向后兼容问题，基本系统中未预置真实的 pkg(8) 工具，需要在线安装。参见 \",[\"$r\",\"a\",null,{\"href\":\"https://man.freebsd.org/cgi/man.cgi?query=pkg\",\"rel\":\"nofollow\",\"children\":\"man pkg(7)\"}],\"。安装方法为直接输入命令 \",[\"$r\",\"code\",null,{\"children\":\"pkg\"}],\" 根据提示进行确认安装。为了避免因网络问题造成安装失败，建议先按以下方法换源后再安装 pkg。\"]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"FreeBSD pkg 包管理器的官方源的配置路径为 \",[\"$r\",\"code\",null,{\"children\":\"/etc/pkg/FreeBSD.conf\"}],\"。不建议直接修改此文件：该配置文件是 FreeBSD 基本系统的一部分，会随着基本系统的更新而变化。\"]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"应创建路径及文件 \",[\"$r\",\"code\",null,{\"children\":\"/usr/local/etc/pkg/repos/BSD.conf\"}],\" 来覆盖配置，文件内容如下：\"]}],\"\\n\",[\"$r\",\"CodeBlock\",null,{\"code\":\"BSD: {\\n  url: \\\"{{http_protocol}}{{mirror}}/${ABI}/quarterly\\\"\\n}\\nFreeBSD: { enabled: no }\"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"若要使用滚动更新的 latest 仓库，将 \",[\"$r\",\"code\",null,{\"children\":\"url\"}],\" 这行配置末尾的 \",[\"$r\",\"code\",null,{\"children\":\"quarterly\"}],\" 换成 \",[\"$r\",\"code\",null,{\"children\":\"latest\"}],\" 即可。\"]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"修改配置后，运行 \",[\"$r\",\"code\",null,{\"children\":\"pkg update -f\"}],\" 更新索引。\"]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"注：如未配置 \",[\"$r\",\"a\",null,{\"href\":\"https://wiki.freebsd.org/pkgbase\",\"rel\":\"nofollow\",\"children\":\"pkgbase\"}],\"，则 pkg 仅管理用户安装的第三方软件（Port），无法更新基本系统。基本系统与通过 pkg 安装的软件互不干涉。\"]}],\"\\n\",[\"$r\",\"h3\",null,{\"id\":\"ports-collection--poudriere\",\"children\":\"Ports Collection & Poudriere\"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"如果使用 \",[\"$r\",\"a\",null,{\"href\":\"https://github.com/freebsd/poudriere\",\"rel\":\"nofollow\",\"children\":\"poudriere\"}],\" 构建 \",[\"$r\",\"code\",null,{\"children\":\"ports\"}],\" 软件包，可以更改 \",[\"$r\",\"code\",null,{\"children\":\"/usr/local/etc/poudriere.conf +374\"}],\"，使用镜像站来获取二进制软件包。\"]}],\"\\n\",[\"$r\",\"CodeBlock\",null,{\"code\":\"# Set to always attempt to fetch packages or dependencies before building.\\n# XXX: This is subject to change\\n# Default: off; requires -b <branch> for bulk or testport.\\n# PACKAGE_FETCH_BRANCH=latest\\n# The branch will be appended to the URL:\\nPACKAGE_FETCH_URL={{http_protocol}}{{mirror}}/\\\\${ABI}\"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"更改后，运行 \",[\"$r\",\"code\",null,{\"children\":\"poudriere bulk\"}],\" 时会报错：\",[\"$r\",\"code\",null,{\"children\":\"No SRV record found for the repo\"}],\"，此报错无害，不影响使用。\"]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"关于 \",[\"$r\",\"code\",null,{\"children\":\"PACKAGE_FETCH_*\"}],\" 的更多使用方法和配置可参考 \",[\"$r\",\"code\",null,{\"children\":\"/usr/local/etc/poudriere.conf.sample\"}],\"。\"]}]]}]","meta":{"title":"FreeBSD pkg 镜像使用帮助","cname":"FreeBSD-pkg"},"cname":"FreeBSD-pkg"},"__N_SSG":true}
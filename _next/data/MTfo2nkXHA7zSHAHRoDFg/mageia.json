{"pageProps":{"toc":[{"url":"#","text":"Overview","depth":2},{"url":"#urpmi-配置方法","depth":2,"text":"urpmi 配置方法"},{"url":"#dnf-配置方法","depth":2,"text":"dnf 配置方法"}],"content":"[\"$r\",null,null,{\"children\":[[\"$r\",\"p\",null,{\"children\":\"从 Mageia 6 开始，Mageia 的软件仓库同时兼容 urpmi 和 dnf，两个包管理器默认情况下均被预装。由于在可预见的未来里，urpmi 仍是默认包管理器且 Mageia 控制中心也只调用 urpmi，所以 urpmi 是必须要配置好的，而 dnf 可以按你的实际需要选择是否进行配置。\"}],\"\\n\",[\"$r\",\"h2\",null,{\"id\":\"urpmi-配置方法\",\"children\":\"urpmi 配置方法\"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":\"移除所有已添加的软件仓库（sudo 似乎是没有被预装的，可以在稍后再安装使用）：\"}],\"\\n\",[\"$r\",\"SyntaxHighlight\",null,{\"code\":\"su\\nurpmi.removemedia -a\"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":\"添加软件源\"}],\"\\n\",[\"$r\",\"CodeBlock\",null,{\"menus\":[{\"title\":\"版本\",\"items\":[[\"8\",{\"version\":\"8\"}],[\"9\",{\"version\":\"9\"}],[\"7.1\",{\"version\":\"7.1\"}],[\"7\",{\"version\":\"7\"}]]},{\"title\":\"架构\",\"items\":[[\"x86_64\",{\"arch\":\"x86_64\"}],[\"aarch64\",{\"arch\":\"aarch64\"}],[\"armv7hl\",{\"arch\":\"armv7hl\"}]]}],\"code\":\"su\\nurpmi.addmedia --distrib {{http_protocol}}{{mirror}}/distrib/{{version}}/{{arch}}\",\"codeLanguage\":\"bash\"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":\"刷新缓存：\"}],\"\\n\",[\"$r\",\"SyntaxHighlight\",null,{\"code\":\"su\\nurpmi.update -a\",\"language\":\"bash\"}],\"\\n\",[\"$r\",\"h2\",null,{\"id\":\"dnf-配置方法\",\"children\":\"dnf 配置方法\"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":\"dnf 在默认情况下已经被预装，如果你发现并没有，可以使用 urpmi 安装：\"}],\"\\n\",[\"$r\",\"SyntaxHighlight\",null,{\"code\":\"su\\nurpmi mageia-repos dnf\",\"language\":\"bash\"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"接下来编辑 \",[\"$r\",\"code\",null,{\"children\":\"/etc/yum.repos.d/\"}],\" 中的文件：\"]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":\"将所有文件中的：\"}],\"\\n\",[\"$r\",\"SyntaxHighlight\",null,{\"code\":\"#baseurl=https://mirrors.kernel.org/mageia/\"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":\"替换为：\"}],\"\\n\",[\"$r\",\"CodeBlock\",null,{\"code\":\"baseurl={{http_protocol}}{{mirror}}/\"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":\"注：为了让 dnf 能在镜像站软件源出现问题时，自动切换至其它后备软件源，我们不建议你注释掉 mirrorlist 行。\"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":\"为了避免 dnf 和 urpmi 启用的软件仓库不一致，在保存之前，还需要额外进行检查，查看 urpmi 已启用仓库的方法如下：\"}],\"\\n\",[\"$r\",\"ul\",null,{\"children\":[\"\\n\",[\"$r\",\"li\",null,{\"children\":\"打开 Mageia 控制中心。\"}],\"\\n\",[\"$r\",\"li\",null,{\"children\":\"选择配置安装和更新所用的介质源。\"}],\"\\n\"]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"默认情况下，一个使用 \",[\"$r\",\"code\",null,{\"children\":\"x86_64\"}],\" 架构的 Mageia 在 urpmi 下默认启用的仓库有：\"]}],\"\\n\",[\"$r\",\"ul\",null,{\"children\":[\"\\n\",[\"$r\",\"li\",null,{\"children\":\"Core Release\"}],\"\\n\",[\"$r\",\"li\",null,{\"children\":\"Core Updates\"}],\"\\n\",[\"$r\",\"li\",null,{\"children\":\"Nonfree Release\"}],\"\\n\",[\"$r\",\"li\",null,{\"children\":\"Nonfree Updates\"}],\"\\n\",[\"$r\",\"li\",null,{\"children\":\"Core 32bit Release\"}],\"\\n\",[\"$r\",\"li\",null,{\"children\":\"Core 32bit Updates\"}],\"\\n\",[\"$r\",\"li\",null,{\"children\":\"Nonfree 32bit Release\"}],\"\\n\",[\"$r\",\"li\",null,{\"children\":\"Nonfree 32bit Updates\"}],\"\\n\"]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"接下来，逐个检查文件，确认 urpmi 已仓库在 dnf 也被已启用，依然是编辑 \",[\"$r\",\"code\",null,{\"children\":\"/etc/yum.repos.d/\"}],\" 中的文件：\"]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"以 \",[\"$r\",\"code\",null,{\"children\":\"/etc/yum.repos.d/mageia-x86_64.repo\"}],\" 为例，你需要确认所有需要开启的软件仓库，如 \",[\"$r\",\"code\",null,{\"children\":\"[mageia-x86_64]\"}],\" 和 \",[\"$r\",\"code\",null,{\"children\":\"[updates-x86_64]\"}],\" （即 Core Release 和 Core Updates）部分末端 enabled 值为 1，其它所有不启用的仓库 enabled 值为 0。\"]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":\"保存所有的文件，退出。\"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":\"刷新缓存：\"}],\"\\n\",[\"$r\",\"SyntaxHighlight\",null,{\"code\":\"su\\ndnf makecache\"}]]}]","meta":{"title":"Mageia 软件仓库镜像使用帮助","cname":"mageia"},"cname":"mageia"},"__N_SSG":true}